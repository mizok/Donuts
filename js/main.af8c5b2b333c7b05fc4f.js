(()=>{"use strict";var e,t={735:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Base=void 0;var r=n(911),s=n(200),a=n(774),c=n(691),u=n(48),l=n(918),h=function(){function e(e){this.canvas=e,this.sizer=new a.Sizer(this.canvas),this.scene=new c.Scene,this.ticker=new a.Ticker,this.camera=new s.Camera(this),this.renderer=new r.Renderer(this),this.playground=new l.Playground(this),this.initResizeMechanic(),this.initTickMechanic()}return e.prototype.initResizeMechanic=function(){var e=this;this.sizer.on("resize",(function(){e.renderer.resize(),e.camera.resize()}))},e.prototype.initTickMechanic=function(){var e=this;this.ticker.on("tick",(function(t){e.renderer.update(),e.camera.update(),e.playground.update(t)}))},e.prototype.getResources=function(){return i(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return e=this,[4,(0,u.getResources)()];case 1:return e.resources=t.sent(),[2]}}))}))},e}();t.Base=h},200:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Camera=void 0;var i=n(691),o=n(886),r=function(){function e(e){this.base=e,this.sizer=this.base.sizer,this.canvas=this.base.canvas,this.scene=this.base.scene,this.setInstance()}return e.prototype.setInstance=function(){var e=new i.PerspectiveCamera(75,this.sizer.width/this.sizer.height,.1,100);e.position.set(0,0,5),this.instance=e,this.scene.add(this.instance)},e.prototype.setControls=function(){this.controls=new o.OrbitControls(this.instance,this.canvas),this.controls.enableDamping=!0},e.prototype.resize=function(){this.instance.aspect=this.sizer.width/this.sizer.height,this.instance.updateProjectionMatrix()},e.prototype.update=function(){},e}();t.Camera=r},755:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Env=void 0;var i=n(691),o=function(){function e(e){this.base=e,this.setLights()}return e.prototype.setLights=function(){this.setAmbientLight(),this.setPointLight(),this.setDirectionalLight()},e.prototype.setPointLight=function(){this.pointLight=new i.PointLight(2834849,3.5),this.pointLight.position.set(5,-2,-1),this.base.scene.add(this.pointLight)},e.prototype.setDirectionalLight=function(){this.directionalLight=new i.DirectionalLight(16442776,4),this.directionalLight.position.set(-3,2,2),this.base.scene.add(this.directionalLight)},e.prototype.setAmbientLight=function(){this.ambientLight=new i.AmbientLight(16442776,.6),this.base.scene.add(this.ambientLight)},e.prototype.update=function(e){},e}();t.Env=o},918:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Playground=void 0;var i=n(755),o=n(392),r=function(){function e(e){this.base=e,this.ready=!1,this.init()}return e.prototype.init=function(){var e=this;this.base.getResources().then((function(){e.env=new i.Env(e.base),e.donuts=new o.Donuts(e.base),e.ready=!0}))},e.prototype.update=function(e){this.ready&&(this.env.update(e),this.donuts.update(e))},e}();t.Playground=r},911:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Renderer=void 0;var i=n(691),o=function(){function e(e){this.base=e,this.sizer=this.base.sizer,this.canvas=this.base.canvas,this.scene=this.base.scene,this.camera=this.base.camera,this.setInstance()}return e.prototype.setInstance=function(){this.instance=new i.WebGLRenderer({canvas:this.canvas,antialias:!0}),this.instance.physicallyCorrectLights=!0,this.instance.toneMappingExposure=1.75,this.instance.shadowMap.enabled=!0,this.instance.shadowMap.type=i.PCFSoftShadowMap,this.instance.toneMapping=i.ReinhardToneMapping,this.instance.toneMappingExposure=4,this.instance.setClearColor(new i.Color("rgba(171,47,105)"),0),this.resize()},e.prototype.resize=function(){this.instance.setSize(this.sizer.width,this.sizer.height),this.instance.setPixelRatio(this.sizer.pixelRatio)},e.prototype.update=function(){this.instance.render(this.scene,this.camera.instance)},e}();t.Renderer=o},367:function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r,s=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t}(n(735).Base);r=document.querySelector("canvas"),new s(r)},11:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Donuts=void 0;var n=function(){function e(e){this.base=e,this.setModel()}return e.prototype.setModel=function(){this.scene=this.base.resources.donutsModel.scene,this.base.scene.add(this.scene),this.scene.scale.set(45,45,45),this.scene.position.set(2,0,0),this.scene.rotation.x=.3*Math.PI,this.scene.rotation.z=.15*Math.PI},e.prototype.update=function(e){this.scene.rotation.y=e.getElapsedTime()},e}();t.Donuts=n},392:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(11),t)},48:function(e,t,n){var i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var i,o=0,r=t.length;o<r;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.getResources=void 0;var o=n(394),r=n(449),s=n(691),a=new(n(47).GLTFLoader),c=new s.TextureLoader,u=new s.CubeTextureLoader,l=function(e){return new Promise((function(t,n){c.load(e.path,(function(n){t({name:e.name,content:n})}),null,n)}))},h=function(e){return new Promise((function(t,n){u.load(e.paths,(function(n){t({name:e.name,content:n})}),null,n)}))},p=function(e){return new Promise((function(t,n){a.load(e.path,(function(n){t({name:e.name,content:n})}),null,n)}))};t.getResources=function(){for(var e=[],t=0,n=i(i([],o.textureSources,!0),r.modelSources,!0);t<n.length;t++){var s=n[t];switch(s.type){case"cubeTexture":e.push(h(s));break;case"texture":e.push(l(s));break;case"gltfModel":e.push(p(s))}}return Promise.all(e).then((function(e){var t={};return e.forEach((function(e){t[e.name]=e.content})),t}))}},449:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.modelSources=void 0,t.modelSources=[{name:"donutsModel",type:"gltfModel",path:"../static/donuts/donuts.gltf"}]},394:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.textureSources=void 0,t.textureSources=[{name:"someTexture",type:"texture",path:"https://picsum.photos/seed/picsum/200/300"}]},111:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EventEmitter=void 0;var n=function(){function e(){this.callbacks={},this.callbacks={},this.callbacks.base={}}return e.prototype.on=function(e,t){var n=this;return void 0===e||""===e?(console.warn("wrong names"),!1):void 0===t?(console.warn("wrong callback"),!1):(this.resolveNames(e).forEach((function(e){var i=n.resolveName(e);n.callbacks[i.namespace]instanceof Object||(n.callbacks[i.namespace]={}),n.callbacks[i.namespace][i.value]instanceof Array||(n.callbacks[i.namespace][i.value]=[]),n.callbacks[i.namespace][i.value].push(t)})),this)},e.prototype.off=function(e){var t=this;return void 0===e||""===e?(console.warn("wrong name"),!1):(this.resolveNames(e).forEach((function(e){var n=t.resolveName(e);if("base"!==n.namespace&&""===n.value)delete t.callbacks[n.namespace];else if("base"===n.namespace)for(var i in t.callbacks)t.callbacks[i]instanceof Object&&t.callbacks[i][n.value]instanceof Array&&(delete t.callbacks[i][n.value],0===Object.keys(t.callbacks[i]).length&&delete t.callbacks[i]);else t.callbacks[n.namespace]instanceof Object&&t.callbacks[n.namespace][n.value]instanceof Array&&(delete t.callbacks[n.namespace][n.value],0===Object.keys(t.callbacks[n.namespace]).length&&delete t.callbacks[n.namespace])})),this)},e.prototype.trigger=function(e,t){var n=this;if(void 0===e||""===e)return console.warn("wrong name"),!1;var i=null,o=null,r=t instanceof Array?t:[],s=this.resolveNames(e),a=this.resolveName(s[0]);if("base"===a.namespace)for(var c in this.callbacks)this.callbacks[c]instanceof Object&&this.callbacks[c][a.value]instanceof Array&&this.callbacks[c][a.value].forEach((function(e){o=e.apply(n,r),void 0===i&&(i=o)}));else if(this.callbacks[a.namespace]instanceof Object){if(""===a.value)return console.warn("wrong name"),this;this.callbacks[a.namespace][a.value].forEach((function(e){o=e.apply(n,r),void 0===i&&(i=o)}))}return i},e.prototype.resolveNames=function(e){var t=e;return t=(t=(t=t.replace(/[^a-zA-Z0-9 ,/.]/g,"")).replace(/[,/]+/g," ")).split(" ")},e.prototype.resolveName=function(e){var t={},n=e.split(".");return t.original=e,t.value=n[0],t.namespace="base",n.length>1&&""!==n[1]&&(t.namespace=n[1]),t},e}();t.EventEmitter=n},774:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(111),t),o(n(600),t),o(n(388),t)},388:function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Sizer=void 0;var r=function(e){function t(t){var n=e.call(this)||this;return n.canvas=t,n.pixelRatio=Math.min(window.devicePixelRatio,2),n.initSizingMechanic(),n}return o(t,e),t.prototype.initSizingMechanic=function(){this.sizing(),window.addEventListener("resize",this.sizing.bind(this))},t.prototype.sizing=function(){var e=this.canvas.getBoundingClientRect();this.width=e.width,this.height=e.height,this.trigger("resize",[this.width,this.height])},t}(n(111).EventEmitter);t.Sizer=r},600:function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Ticker=void 0;var r=n(111),s=n(691),a=function(e){function t(){var t=e.call(this)||this;return t.clock=new s.Clock,window.requestAnimationFrame((function(){t.tick()})),t}return o(t,e),t.prototype.tick=function(){var e=this;this.trigger("tick",[this.clock]),window.requestAnimationFrame((function(){e.tick()}))},t}(r.EventEmitter);t.Ticker=a},163:()=>{},142:()=>{}},n={};function i(e){var o=n[e];if(void 0!==o)return o.exports;var r=n[e]={exports:{}};return t[e].call(r.exports,r,r.exports,i),r.exports}i.m=t,e=[],i.O=(t,n,o,r)=>{if(!n){var s=1/0;for(u=0;u<e.length;u++){for(var[n,o,r]=e[u],a=!0,c=0;c<n.length;c++)(!1&r||s>=r)&&Object.keys(i.O).every((e=>i.O[e](n[c])))?n.splice(c--,1):(a=!1,r<s&&(s=r));a&&(e.splice(u--,1),t=o())}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,o,r]},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={179:0};i.O.j=t=>0===e[t];var t=(t,n)=>{var o,r,[s,a,c]=n,u=0;for(o in a)i.o(a,o)&&(i.m[o]=a[o]);if(c)var l=c(i);for(t&&t(n);u<s.length;u++)r=s[u],i.o(e,r)&&e[r]&&e[r][0](),e[s[u]]=0;return i.O(l)},n=self.webpackChunkwebpack_playground=self.webpackChunkwebpack_playground||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),i.O(void 0,[736],(()=>i(310))),i.O(void 0,[736],(()=>i(367))),i.O(void 0,[736],(()=>i(142)));var o=i.O(void 0,[736],(()=>i(163)));o=i.O(o)})();
//# sourceMappingURL=main.af8c5b2b333c7b05fc4f.js.map